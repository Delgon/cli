<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/cli/commands/install/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>install - MAS CLI</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "install";
        var mkdocs_page_input_path = "commands/install.md";
        var mkdocs_page_url = "/cli/commands/install/";
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> MAS CLI
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../changes/">Changes</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/choosing-the-right-catalog/">Choosing the Right Catalog</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/install/">Install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/update/">Update</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/upgrade/">Upgrade</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Commands</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../provision-fyre/">provision-fyre</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../provision-roks/">provision-roks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../provision-rosa/">provision-rosa</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../setup-registry/">setup-registry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror-images/">mirror-images</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../configure-airgap/">configure-airgap</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">install</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#catalog-selection-required">Catalog Selection (Required):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#entitlement-licensing-required">Entitlement &amp; Licensing (Required):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#storage-class-selection-required">Storage Class Selection (Required):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#maximo-application-suite-instance-required">Maximo Application Suite Instance (Required):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#advanced-mas-configuration-optional">Advanced MAS Configuration (Optional):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#maximo-application-suite-core-platform-required">Maximo Application Suite Core Platform (Required):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#maximo-application-suite-application-selection-optional">Maximo Application Suite Application Selection (Optional):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ibm-cloud-pak-for-data-required-when-installing-predict-or-assist">IBM Cloud Pak for Data (Required when installing Predict or Assist):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ibm-db2-optional-required-to-use-ibm-db2-universal-operator">IBM Db2 (Optional, required to use IBM Db2 Universal Operator):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#advanced-db2u-universal-operator-configuration-optional">Advanced Db2u Universal Operator Configuration (Optional):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#other-commands">Other Commands:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#non-interactive">Non-Interactive</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#interactive">Interactive</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#air-gap-support">Air Gap Support</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#more-information">More Information</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#the-automation-engine">The Automation Engine</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#the-automation-driver">The Automation Driver</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#support">Support</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../must-gather/">must-gather</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../configtool-oidc/">configtool-oidc</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Catalogs</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-230518-amd64/">May 18 2023</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-230414-amd64/">Apr 14 2023</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-230314-amd64/">Mar 14 2023</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-230217-amd64/">Feb 17 2023</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">MAS CLI</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
          <li>Commands &raquo;</li>
      <li>install</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ibm-mas/cli/blob/master/docs/commands/install.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="install">Install<a class="headerlink" href="#install" title="Permanent link"></a></h1>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link"></a></h2>
<p><code>mas install [options]</code></p>
<h3 id="catalog-selection-required">Catalog Selection (Required):<a class="headerlink" href="#catalog-selection-required" title="Permanent link"></a></h3>
<ul>
<li><code>-c, --mas-catalog-version MAS_CATALOG_VERSION</code> IBM Maximo Operator Catalog to install (e.g. v8-amd64)</li>
</ul>
<h3 id="entitlement-licensing-required">Entitlement &amp; Licensing (Required):<a class="headerlink" href="#entitlement-licensing-required" title="Permanent link"></a></h3>
<ul>
<li><code>--ibm-entitlement-key IBM_ENTITLEMENT_KEY</code>  IBM entitlement key</li>
<li><code>--license-id SLS_LICENSE_ID</code>                MAS license ID</li>
<li><code>--license-file SLS_LICENSE_FILE_LOCAL</code>      Path to MAS license file</li>
<li><code>--uds-email UDS_CONTACT_EMAIL</code>              Contact e-mail address</li>
<li><code>--uds-firstname UDS_CONTACT_FIRSTNAME</code>      Contact first name</li>
<li><code>--uds-lastname UDS_CONTACT_LASTNAME</code>        Contact last name</li>
</ul>
<h3 id="storage-class-selection-required">Storage Class Selection (Required):<a class="headerlink" href="#storage-class-selection-required" title="Permanent link"></a></h3>
<ul>
<li><code>--storage-rwo STORAGE_CLASS_RWO</code>                   Read Write Once (RWO) storage class (e.g. ibmc-block-gold)</li>
<li><code>--storage-rwx STORAGE_CLASS_RWX</code>                   Read Write Many (RWX) storage class (e.g. ibmc-file-gold-gid)</li>
<li><code>--storage-pipeline PIPELINE_STORAGE_CLASS</code>         Install pipeline storage class (e.g. ibmc-file-gold-gid)</li>
<li><code>--storage-accessmode PIPELINE_STORAGE_ACCESSMODE</code>  Install pipeline storage class access mode (ReadWriteMany or ReadWriteOnce)</li>
</ul>
<h3 id="maximo-application-suite-instance-required">Maximo Application Suite Instance (Required):<a class="headerlink" href="#maximo-application-suite-instance-required" title="Permanent link"></a></h3>
<ul>
<li><code>-i, --mas-instance-id MAS_INSTANCE_ID</code>             MAS Instance ID</li>
<li><code>-w, --mas-workspace-id MAS_WORKSPACE_ID</code>           MAS Workspace ID</li>
<li><code>-W, --mas-workspace-name MAS_WORKSPACE_ID</code>         MAS Workspace Name</li>
</ul>
<h3 id="advanced-mas-configuration-optional">Advanced MAS Configuration (Optional):<a class="headerlink" href="#advanced-mas-configuration-optional" title="Permanent link"></a></h3>
<ul>
<li><code>--additional-configs LOCAL_MAS_CONFIG_DIR</code>         Path to a directory containing additional configuration files to be applied</li>
<li><code>--non-prod</code>                                        Install MAS in Non-production mode</li>
</ul>
<h3 id="maximo-application-suite-core-platform-required">Maximo Application Suite Core Platform (Required):<a class="headerlink" href="#maximo-application-suite-core-platform-required" title="Permanent link"></a></h3>
<ul>
<li><code>--mas-channel MAS_CHANNEL</code>                                    Subscription channel for the Core Platform</li>
</ul>
<h3 id="maximo-application-suite-application-selection-optional">Maximo Application Suite Application Selection (Optional):<a class="headerlink" href="#maximo-application-suite-application-selection-optional" title="Permanent link"></a></h3>
<ul>
<li><code>--iot-channel MAS_APP_CHANNEL_IOT</code>                            Subscription channel for Maximo IoT</li>
<li><code>--monitor-channel MAS_APP_CHANNEL_MONITOR</code>                    Subscription channel for Maximo Monitor</li>
<li><code>--manage-channel MAS_APP_CHANNEL_MANAGE</code>                      Subscription channel for Maximo Manage</li>
<li><code>--manage-jdbc MAS_APPWS_BINDINGS_JDBC_MANAGE</code>                 Configure Maximo Manage JDBC binding (workspace-application or system)</li>
<li><code>--predict-channel MAS_APP_CHANNEL_PREDICT</code>                    Subscription channel for Maximo Predict</li>
<li><code>--assist-channel MAS_APP_CHANNEL_ASSIST</code>                      Subscription channel for Maximo Assist</li>
<li><code>--visualinspection-channel MAS_APP_CHANNEL_VISUALINSPECTION</code>  Subscription channel for Maximo Visual Inspection</li>
<li><code>--optimizer-channel MAS_APP_CHANNEL_OPTIMIZER</code>                Subscription channel for Maximo optimizer</li>
<li><code>--optimizer-plan MAS_APP_PLAN_OPTIMIZER</code>                      Installation plan for Maximo Optimizer (full or limited)</li>
</ul>
<h3 id="ibm-cloud-pak-for-data-required-when-installing-predict-or-assist">IBM Cloud Pak for Data (Required when installing Predict or Assist):<a class="headerlink" href="#ibm-cloud-pak-for-data-required-when-installing-predict-or-assist" title="Permanent link"></a></h3>
<ul>
<li><code>--cp4d-version CP4D_VERSION</code>                                  Product version of CP4D to use</li>
</ul>
<h3 id="ibm-db2-optional-required-to-use-ibm-db2-universal-operator">IBM Db2 (Optional, required to use IBM Db2 Universal Operator):<a class="headerlink" href="#ibm-db2-optional-required-to-use-ibm-db2-universal-operator" title="Permanent link"></a></h3>
<ul>
<li><code>--db2u-channel DB2_CHANNEL</code>     Subscription channel for Db2u (e.g. v110508.0)</li>
<li><code>--db2u-system</code>                  Install a shared Db2u instance for MAS (required by IoT &amp; Monitor, supported by Manage)</li>
<li><code>--db2u-manage</code>                  Install a dedicated Db2u instance for Maximo Manage (supported by Manage)</li>
</ul>
<h3 id="advanced-db2u-universal-operator-configuration-optional">Advanced Db2u Universal Operator Configuration (Optional):<a class="headerlink" href="#advanced-db2u-universal-operator-configuration-optional" title="Permanent link"></a></h3>
<ul>
<li><code>--db2u-cpu-request DB2_CPU_REQUESTS</code>              Customise Db2 CPU request</li>
<li><code>--db2u-cpu-limit DB2_CPU_LIMITS</code>                  Customise Db2 CPU limit</li>
<li><code>--db2u-memory-request DB2_MEMORY_REQUESTS</code>        Customise Db2 memory request</li>
<li><code>--db2u-memory-limit DB2_MEMORY_LIMITS</code>            Customise Db2 memory limit</li>
<li><code>--db2u-backup-storage DB2_BACKUP_STORAGE_SIZE</code>    Customise Db2 storage capacity</li>
<li><code>--db2u-data-storage DB2_DATA_STORAGE_SIZE</code>        Customise Db2 storage capacity</li>
<li><code>--db2u-logs-storage DB2_LOGS_STORAGE_SIZE</code>        Customise Db2 storage capacity</li>
<li><code>--db2u-meta-storage DB2_META_STORAGE_SIZE</code>        Customise Db2 storage capacity</li>
<li><code>--db2u-temp-storage DB2_TEMP_STORAGE_SIZE</code>        Customise Db2 storage capacity</li>
</ul>
<h3 id="other-commands">Other Commands:<a class="headerlink" href="#other-commands" title="Permanent link"></a></h3>
<ul>
<li><code>--no-wait-for-pvcs</code> If you are using using storage classes that utilize 'WaitForFirstConsumer' binding mode use this flag</li>
<li><code>--no-confirm</code>       Mirror images without prompting for confirmation</li>
<li><code>-h, --help</code>         Show install help message</li>
</ul>
<h3 id="non-interactive">Non-Interactive<a class="headerlink" href="#non-interactive" title="Permanent link"></a></h3>
<pre><code class="language-bash">docker run -ti --rm -v ~:/mnt/home --pull always quay.io/ibmmas/cli
export ENTITLEMENT_KEY=xxx
mas install -i mas1 -w ws1 -W &quot;My Workspace&quot; -c v8-amd64 --mas-channel 8.10.x \
  --ibm-entitlement-key $ENTITLEMENT_KEY \
  --license-id xxxxxxxxxxxx --license-file /mnt/home/entitlement.lic \
  --uds-email myemail@email.com --uds-firstname John --uds-lastname Barnes \
  --storage-rwo ibmc-block-gold --storage-rwx ibmc-file-gold-gid \
  --storage-pipeline ibmc-file-gold-gid --storage-accessmode ReadWriteMany \
  --no-confirm
</code></pre>
<h3 id="interactive">Interactive<a class="headerlink" href="#interactive" title="Permanent link"></a></h3>
<pre><code class="language-bash">docker run -ti --rm -v ~:/mnt/home --pull always quay.io/ibmmas/cli
mas install
</code></pre>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>We will need the <code>entitlement.lic</code> file to perform the installation which is why we mount your home directory into the container.  If you saved the entitlement file elsewhere, mount that directory instead.</p>
<p>When prompted you will be able to set license file to <code>/mnt/home/entitlement.lic</code></p>
</div>
<h2 id="air-gap-support">Air Gap Support<a class="headerlink" href="#air-gap-support" title="Permanent link"></a></h2>
<p>If you have already ran <code>mas configure-airgap</code> to install the ImageContentSourcePolicy for IBM Maximo Application Suite then the installer will automatically detect the presence of this and tailor the installation configuration for a disconnected installation.</p>
<p>A number of applications are not currently available when using a private mirror registry in this fashion, as a result you will not be asked whether you wish to install these applications:</p>
<ul>
<li>Maximo Assist</li>
<li>Maximo Health &amp; Predict Utilities</li>
<li>Maximo Predict</li>
<li>Maximo Visual Inspection</li>
</ul>
<h2 id="more-information">More Information<a class="headerlink" href="#more-information" title="Permanent link"></a></h2>
<p>The install is designed to work on any OCP cluster, but has been specifically tested in these environments:</p>
<ul>
<li>IBMCloud ROKS</li>
<li>Microsoft Azure</li>
<li>AWS ROSA</li>
<li>IBM DevIT FYRE (internal)</li>
</ul>
<h3 id="the-automation-engine">The Automation Engine<a class="headerlink" href="#the-automation-engine" title="Permanent link"></a></h3>
<p>The engine that performs all tasks is written in Ansible, you can directly use the same automation outside of this CLI if you wish.  The code is open source and available in <a href="https://github.com/ibm-mas/ansible-devops">ibm-mas/ansible-devops</a>, the collection is also available to install directly from Ansible Galaxy:</p>
<ul>
<li><a href="https://galaxy.ansible.com/ibm/mas_devops">Ansible Galaxy: ibm.mas_devops</a></li>
</ul>
<h3 id="the-automation-driver">The Automation Driver<a class="headerlink" href="#the-automation-driver" title="Permanent link"></a></h3>
<p>The install is performed inside your RedHat OpenShift cluster utilizing <a href="https://cloud.redhat.com/learn/topics/ci-cd">Openshift Pipelines</a></p>
<blockquote>
<p>OpenShift Pipelines is a Kubernetes-native CI/CD solution based on Tekton. It builds on Tekton to provide a CI/CD experience through tight integration with OpenShift and Red Hat developer tools. OpenShift Pipelines is designed to run each step of the CI/CD pipeline in its own container, allowing each step to scale independently to meet the demands of the pipeline.</p>
</blockquote>
<p><img alt="" src="../../img/pipeline.png" /></p>
<h3 id="support">Support<a class="headerlink" href="#support" title="Permanent link"></a></h3>
<p>The installer supports:</p>
<ul>
<li>IBM Maximo Operator Catalog installation</li>
<li>Required dependency installation:<ul>
<li>MongoDb</li>
<li>IBM Suite License Service</li>
<li>IBM User Data Services</li>
<li>IBM Certificate Manager</li>
</ul>
</li>
<li>Optional dependency installation:<ul>
<li>Apache Kafka</li>
<li>IBM Db2</li>
<li>IBM Cloud Pak for Data Platform and Services<ul>
<li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-data/4.0?topic=services-watson-discovery">Watson Discovery</a></li>
<li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-data/4.0?topic=services-watson-studio">Watson Studio</a></li>
<li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-data/4.0?topic=services-watson-machine-learning">Watson Machine Learning</a></li>
<li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-data/4.0?topic=services-watson-openscale">Watson OpenScale</a></li>
<li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-data/4.0?topic=services-analytics-engine-powered-by-apache-spark">Analytics Engine (Apache Spark)</a></li>
</ul>
</li>
</ul>
</li>
<li>Suite core services installation</li>
<li>Suite application installation</li>
</ul>
<p>The installer will automatically provision and set up the required dependencies based on the applications that you select to install.</p>
<p>The install can be launched with the command <code>mas install</code>.  The end result will be a pipeline run started in your target cluster where you can track the progress of the installation.</p>
<p><img alt="" src="../../img/pipelineruns.png" /></p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/cli" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../configure-airgap/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../must-gather/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
