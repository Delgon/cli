<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/cli/commands/install/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>install - MAS CLI</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "install";
        var mkdocs_page_input_path = "commands/install.md";
        var mkdocs_page_url = "/cli/commands/install/";
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> MAS CLI
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../changes/">Changes</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/choosing-the-right-catalog/">Choosing the Right Catalog</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/install/">Install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/update/">Update</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/upgrade/">Upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/architecture/core/">MAS Core Explained</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/mas-pods-explained/">MAS Pods Explained</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Commands</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../provision-fyre/">provision-fyre</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../provision-roks/">provision-roks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../provision-rosa/">provision-rosa</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../setup-registry/">setup-registry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror-images/">mirror-images</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../configure-airgap/">configure-airgap</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">install</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#pre-reqs">Pre-reqs</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-ibm-entitlement-key">1. IBM Entitlement key</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-mas-license-file">2. MAS License File</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#air-gap-support">Air Gap Support</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sno-support">SNO Support</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#must-gather">Must Gather</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#more-information">More Information</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#the-automation-engine">The Automation Engine</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#the-automation-driver">The Automation Driver</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#support">Support</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Catalogs</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-221129-amd64/">Nov 2022</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-221025-amd64/">Oct 2022</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-220927-amd64/">Sep 2022</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-220805-amd64/">Aug 2022</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-220717-amd64/">Jul 2022</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">MAS CLI</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Commands &raquo;</li>
      <li>install</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ibm-mas/cli/blob/master/docs/commands/install.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="install">Install<a class="headerlink" href="#install" title="Permanent link"></a></h1>
<h2 id="pre-reqs">Pre-reqs<a class="headerlink" href="#pre-reqs" title="Permanent link"></a></h2>
<h3 id="1-ibm-entitlement-key">1. IBM Entitlement key<a class="headerlink" href="#1-ibm-entitlement-key" title="Permanent link"></a></h3>
<p>Access <a href="https://myibm.ibm.com/products-services/containerlibrary">Container Software Library</a> using your IBMId to obtain your entitlement key.</p>
<h3 id="2-mas-license-file">2. MAS License File<a class="headerlink" href="#2-mas-license-file" title="Permanent link"></a></h3>
<p>Access <a href="https://licensing.subscribenet.com/control/ibmr/login">IBM License Key Center</a>, on the <strong>Get Keys</strong> menu select <strong>IBM AppPoint Suites</strong>.  Select <code>IBM MAXIMO APPLICATION SUITE AppPOINT LIC</code> and on the next page fill in the information as below:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Content</th>
</tr>
</thead>
<tbody>
<tr>
<td>Number of Keys</td>
<td>How many AppPoints to assign to the license file</td>
</tr>
<tr>
<td>Host ID Type</td>
<td>Set to <strong>Ethernet Address</strong></td>
</tr>
<tr>
<td>Host ID</td>
<td>Enter any 12 digit hexadecimal string</td>
</tr>
<tr>
<td>Hostname</td>
<td>Set to the hostname of your OCP instance</td>
</tr>
<tr>
<td>Port</td>
<td>Set to <strong>27000</strong></td>
</tr>
</tbody>
</table>
<p>The other values can be left at their defaults.  Finally, click <strong>Generate</strong> and download the license file to your home directory as <code>entitlement.lic</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about how to access the IBM License Key Center review the <a href="https://www.ibm.com/support/pages/system/files/inline-files/GettingStartedEnglish_2020.pdf">getting started documentation</a> available from the IBM support website.</p>
</div>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link"></a></h2>
<p>The install is an interactive command.  At present there is no support for an
unattended install, but this is planned for the future.</p>
<pre><code class="language-bash">docker pull quay.io/ibmmas/cli
docker run -ti --rm -v ~:/home/local quay.io/ibmmas/cli
mas install
</code></pre>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>We will need the <code>entitlement.lic</code> file to perform the installation which is why we mount your home directory into the container.  If you saved the entitlement file elsewhere, mount that directory instead.</p>
<p>When prompted you will be able to set license file to <code>/home/local/entitlement.lic</code></p>
</div>
<h2 id="air-gap-support">Air Gap Support<a class="headerlink" href="#air-gap-support" title="Permanent link"></a></h2>
<p>If you have already ran <code>mas configure-airgap</code> to install the ImageContentSourcePolicy for IBM Maximo Application Suite then the installer will automatically detect the presence of this and tailor the installation configuration for a disconnected installation.</p>
<p>A number of applications are not currently available when using a private mirror registry in this fashion, as a result you will not be asked whether you wish to install these applications:</p>
<ul>
<li>Maximo Assist</li>
<li>Maximo Health &amp; Predict Utilities</li>
<li>Maximo Monitor</li>
<li>Maximo Predict</li>
<li>Maximo Safety</li>
<li>Maximo Visual Inspection</li>
</ul>
<h2 id="sno-support">SNO Support<a class="headerlink" href="#sno-support" title="Permanent link"></a></h2>
<p>If you  already ran <code>mas install</code> to install the  IBM Maximo Application Suite then the installer will automatically detect the presence of SNO and tailor the installation configuration for a connected installation.</p>
<p>A number of applications are not currently available when using a private mirror registry in this fashion, as a result you will not be asked whether you wish to install these applications:</p>
<ul>
<li>Maximo Assist</li>
<li>Maximo Health &amp; Predict Utilities</li>
<li>Maximo Monitor</li>
<li>Maximo Predict</li>
<li>Maximo Safety</li>
<li>Maximo Visual Inspection</li>
</ul>
<h2 id="must-gather">Must Gather<a class="headerlink" href="#must-gather" title="Permanent link"></a></h2>
<p>The pipeline sets a "finally" block that is executed at the end of the steps regardless of success or failure. Inside this finally block the <strong>mustgather</strong> Task is executed which runs the IBM AI Applications' Must Gather tool against a MAS instance. It uses the mustgather workspace to persist the output into a Persistent Volume for retrieval after the pipeline has completed.</p>
<p>Users can then use the <strong>ibm.mas_devops.suite_mustgather_download</strong> playbook locally to pull the mustgather output from the persistent volume.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <strong>mustgather</strong> Task will clear any previous content found in the <code>/workspace/mustgather</code> persistent volume before each call to the mustgather playbook. This is to ensure that the persistent volume does not become full after multiple runs using the same persistent volume/namespace.</p>
</div>
<h2 id="more-information">More Information<a class="headerlink" href="#more-information" title="Permanent link"></a></h2>
<p>The install is designed to work on any OCP cluster, but has been specifically tested in these environments:</p>
<ul>
<li>IBMCloud ROKS</li>
<li>Microsoft Azure</li>
<li>AWS ROSA</li>
<li>IBM DevIT FYRE (internal)</li>
</ul>
<h3 id="the-automation-engine">The Automation Engine<a class="headerlink" href="#the-automation-engine" title="Permanent link"></a></h3>
<p>The engine that performs all tasks is written in Ansible, you can directly use the same automation outside of this CLI if you wish.  The code is open source and available in <a href="https://github.com/ibm-mas/ansible-devops">ibm-mas/ansible-devops</a>, the collection is also available to install directly from Ansible Galaxy:</p>
<ul>
<li><a href="https://galaxy.ansible.com/ibm/mas_devops">Ansible Galaxy: ibm.mas_devops</a></li>
</ul>
<h3 id="the-automation-driver">The Automation Driver<a class="headerlink" href="#the-automation-driver" title="Permanent link"></a></h3>
<p>The install is performed inside your RedHat OpenShift cluster utilizing <a href="https://cloud.redhat.com/learn/topics/ci-cd">Openshift Pipelines</a></p>
<blockquote>
<p>OpenShift Pipelines is a Kubernetes-native CI/CD solution based on Tekton. It builds on Tekton to provide a CI/CD experience through tight integration with OpenShift and Red Hat developer tools. OpenShift Pipelines is designed to run each step of the CI/CD pipeline in its own container, allowing each step to scale independently to meet the demands of the pipeline.</p>
</blockquote>
<p><img alt="" src="../../img/pipeline.png" /></p>
<h3 id="support">Support<a class="headerlink" href="#support" title="Permanent link"></a></h3>
<p>The installer supports:</p>
<ul>
<li>IBM Maximo Operator Catalog installation</li>
<li>Required dependency installation:<ul>
<li>MongoDb</li>
<li>IBM Suite License Service</li>
<li>IBM User Data Services</li>
<li>IBM Certificate Manager</li>
<li>Red Hat Service Binding Operator (for MAS 8.6 and 8.7)</li>
</ul>
</li>
<li>Optional dependency installation:<ul>
<li>Apache Kafka</li>
<li>IBM Db2</li>
<li>IBM Cloud Pak for Data Platform and Services<ul>
<li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-data/4.0?topic=services-watson-discovery">Watson Discovery</a></li>
<li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-data/4.0?topic=services-watson-studio">Watson Studio</a></li>
<li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-data/4.0?topic=services-watson-machine-learning">Watson Machine Learning</a></li>
<li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-data/4.0?topic=services-watson-openscale">Watson OpenScale</a></li>
<li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-data/4.0?topic=services-analytics-engine-powered-by-apache-spark">Analytics Engine (Apache Spark)</a></li>
</ul>
</li>
</ul>
</li>
<li>Suite core services installation</li>
<li>Suite application installation</li>
</ul>
<p>The installer will automatically provision and set up the required dependencies based on the applications that you select to install.</p>
<p>The install can be launched with the command <code>mas install</code>.  The end result will be a pipeline run started in your target cluster where you can track the progress of the installation.</p>
<p><img alt="" src="../../img/pipelineruns.png" /></p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/cli" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../configure-airgap/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../catalogs/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
